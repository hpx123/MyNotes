### JVM垃圾回收算法

---

#### 判断对象是否存活的两种方法

+ 引用计数法：每个对象都有一个引用计数属性， 新增一个引用时计数加1，引用释放时计数减1，计数为0时可以回收。此方法简单，无法解决对象相互循环引用的问题。 
+ 可达性分析： ：从GC Roots开始向下搜索，搜索所走过的路径称为引用链。当一个对象到GC Roots没有任何引用链相连时，则证明此对象是不可用的。不可达对象。 

#### 垃圾回收过程

首先从GC Roots开始进行可达性分析，判断哪些是不可达对象。
对于不可达对象，判断是否需要执行其finalize方法，如果对象没有覆盖finalize方法或已经执行过finalize方法则视为不需要执行，进行回收；如果需要，则把对象加入F-Queue队列。
对于F-Queue队列里的对象，稍后虚拟机会自动建立一个低优先级的线程去触发其finalize方法，但不会等待这个方法返回。
如果在finalize方法的执行过程中，对象重新被引用，那么进行第二次标记时将被移出F-Queue，在finalize方法执行完成后，对象仍然没有被引用，则进行回收。
对于被移出F-Queue的对象，如果它下一次面临回收时，将不会再执行其finalize方法。
finalize方法只执行一次。 

