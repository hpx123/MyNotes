### 工厂模式

 工厂一般理解就是减少new创建对象的方式，用接口的方式来返回一个对象，而new创建的方式被封装了。然而，这个是初级认识，这不足以理解到工厂方式的真正目的。

#### 抽象工厂和普通工厂

##### 抽象工厂特点

+ 工厂是独立的（独立的类）
+ 工厂是生产一整套有产品的（至少要生产两个产品)，这些产品**必须相互是有关系或有依赖的**
+ 工厂是可以抽象的，工厂生产是可以抽象的
+ 产品是可以抽象的，产品关系是可以抽象的
+ 客户端是用来调用并理顺这些产品之间的关系（或指定工作流程）
+ 不同工厂生产出的产品实例之间是不接触的，这个是靠客户端来封装实现的。

**抽象工厂 和工厂方法的不同点**

- 抽象工程关键在于产品之间的抽象关系，所以至少要两个产品；工厂方法在于生成产品，不关注产品间的关系，所以可以只生成一个产品。

- 抽象工厂中客户端把产品的抽象关系理清楚，在最终使用的时候，一般使用客户端（和其接口），产品之间的关系是被封装固定的；而工厂方法是在最终使用的时候，使用产品本身（和其接口）。

### 单例模式

 确保一个类最多只能有一个实例，而且自行实例化并向整个系统提供这个实例。在计算机系统中，线程池、缓存、日志对象、对话框、打印机、显卡的驱动程序对象常被设计成单例。 

#### 问题：线程不安全

解决：使用静态内部类，静态内部类不会随着外部类的加载而加载，只有静态内部类的静态成员被调用时才会进行加载，这样既保证惰性初始化，又由JVM保证了多线程并发访问的正确性